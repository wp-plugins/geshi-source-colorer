jQuery(document).ready(function(){jQuery(".geshisourcecolorer .toolbar").hide();jQuery(".geshisourcecolorer-collapse").hide();jQuery(".geshisourcecolorer-collapse-button").click(function(){var id="#"+jQuery(this).attr("id").replace("-collapse-button","");if(!jQuery(this).data("view")){jQuery(id).fadeIn("slow");jQuery(this).data("view",true)}else{jQuery(id).fadeOut("slow");jQuery(this).data("view",false)}});jQuery(".geshisourcecolorer").hover(function(){jQuery(this).find(".toolbar:first").fadeIn("slow");jQuery("#"+jQuery(this).attr("id")+"-copyclipboard").data("clipboard").show()},function(){jQuery("#"+jQuery(this).attr("id")+"-copyclipboard").data("clipboard").hide();jQuery(this).find(".toolbar:first").fadeOut("slow")});jQuery(".geshisourcecolorer .toolbar .togglelinenumber").click(function(){var lines=jQuery(this).parent().parent().parent().find("ol");if(lines.css("list-style-type")=="none"){lines.css("list-style-type",lines.data("list-style-type-before"));lines.find("li").each(function(){jQuery(this).css("margin-left",jQuery(this).data("margin-left-before"))})}else{lines.data("margin-left-before",lines.css("margin-left"));lines.data("list-style-type-before",lines.css("list-style-type"));lines.css("list-style-type","none");lines.find("li").each(function(){jQuery(this).data("margin-left-before",jQuery(this).css("margin-left"));jQuery(this).css("margin-left",0)})}});jQuery(".geshisourcecolorer .toolbar .copyclipboard").each(function(){var id="#"+jQuery(this).attr("id");var msg=jQuery(this).attr("rel");jQuery(id).data("clipboard",new ZeroClipboard.Client());jQuery(id).data("clipboard").setText(jQuery(this).parent().parent().find(".source:first").text());jQuery(id).data("clipboard").addEventListener("onComplete",function(){alert(msg)});jQuery(id).data("clipboard").reposition();jQuery(id).append(jQuery(id).data("clipboard").getHTML(jQuery(this).width(),jQuery(this).height()))});jQuery(".geshisourcecolorer .toolbar .sourcewindow").click(function(){var win=window.open("","GeSHi Source Colorer");win.document.writeln("<html><body><pre>"+jQuery(this).parent().parent().find(".source").html()+"</pre></body></html>")});jQuery("<ul />").append(function(index,html){var ret=jQuery("<span />");jQuery(".geshisourcecolorer").find(".lol[rel]").each(function(){ret.append(jQuery("<li />").html(jQuery("<a />").attr("href","#"+jQuery(this).attr("name")).html(jQuery(this).attr("rel"))))});return ret.html()}).appendTo("#geshisourcecolorer-lol");jQuery(".geshisourcecolorer .hoverhighlight").each(function(){var id="#"+jQuery(this).parent().parent().attr("id")+"-";var data=jQuery(this).attr("rel").split("[").map(function(i){return jQuery.trim(i.replace("]",""))});if(data.length==3){data[2]=data[2].split(" ").map(function(i){return id+jQuery.trim(i)});jQuery(data[0]).hover(function(){data[2].forEach(function(i){jQuery(i).data("style-before",jQuery(i).attr("style"));jQuery(i).attr("style",data[1])})},function(){data[2].forEach(function(i){jQuery(i).attr("style",jQuery(i).data("style-before"))})})}})});